{"ast":null,"code":"import { defineStore } from \"pinia\";\nexport const sessionStore = defineStore(\"session\", {\n  state: () => {\n    return {\n      isLoggedIn: true,\n      user: {\n        admin: true,\n        name: \"user\",\n        id: 1\n      }\n    };\n  },\n  actions: {\n    logout() {\n      this.isLoggedIn = false;\n      this.user = {\n        admin: false\n      };\n    },\n    async deleteAccount() {\n      const req = await fetch(`http://localhost:3000/users/${this.user.id}`, {\n        method: \"DELETE\"\n      });\n      const res = await req.json();\n      this.logout();\n    }\n  }\n});","map":{"version":3,"names":["defineStore","sessionStore","state","isLoggedIn","user","admin","name","id","actions","logout","deleteAccount","req","fetch","method","res","json"],"sources":["C:/Users/felip/Desktop/Tot Bookstore/src/store/session.js"],"sourcesContent":["import { defineStore } from \"pinia\"\r\n\r\nexport const sessionStore = defineStore(\"session\", {\r\n\r\n    state: () => {\r\n\r\n        return {\r\n\r\n            isLoggedIn: true,\r\n            user: {\r\n                admin: true,\r\n                name: \"user\",\r\n                id: 1\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    actions:{\r\n\r\n        logout(){\r\n\r\n            this.isLoggedIn = false\r\n            this.user = {admin: false}\r\n\r\n        },\r\n\r\n        async deleteAccount(){\r\n\r\n            const req = await fetch(`http://localhost:3000/users/${this.user.id}`, {\r\n\r\n                method: \"DELETE\",\r\n\r\n            })\r\n        \r\n            const res = await req.json()\r\n\r\n            this.logout()  \r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n})"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,YAAY,GAAGD,WAAW,CAAC,SAAS,EAAE;EAE/CE,KAAK,EAAE,MAAM;IAET,OAAO;MAEHC,UAAU,EAAE,IAAI;MAChBC,IAAI,EAAE;QACFC,KAAK,EAAE,IAAI;QACXC,IAAI,EAAE,MAAM;QACZC,EAAE,EAAE;MACR;IAEJ,CAAC;EAEL,CAAC;EAEDC,OAAO,EAAC;IAEJC,MAAM,GAAE;MAEJ,IAAI,CAACN,UAAU,GAAG,KAAK;MACvB,IAAI,CAACC,IAAI,GAAG;QAACC,KAAK,EAAE;MAAK,CAAC;IAE9B,CAAC;IAED,MAAMK,aAAa,GAAE;MAEjB,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,+BAA8B,IAAI,CAACR,IAAI,CAACG,EAAG,EAAC,EAAE;QAEnEM,MAAM,EAAE;MAEZ,CAAC,CAAC;MAEF,MAAMC,GAAG,GAAG,MAAMH,GAAG,CAACI,IAAI,EAAE;MAE5B,IAAI,CAACN,MAAM,EAAE;IAEjB;EAEJ;AAGJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}