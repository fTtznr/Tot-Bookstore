{"ast":null,"code":"import ProductBox from '@/components/ProductBox.vue';\nimport { bookStore } from '@/store/books';\nexport default {\n  name: \"Search\",\n  components: {\n    ProductBox\n  },\n  created() {\n    this.setPriceRange();\n  },\n  methods: {\n    setPriceRange() {\n      const rangeInput = document.querySelectorAll(\".range-input input\"),\n        priceInput = document.querySelectorAll(\".price-input input\"),\n        range = document.querySelector(\".slider .progress\");\n      let priceGap = 1000;\n      priceInput.forEach(input => {\n        input.addEventListener(\"input\", e => {\n          let minPrice = parseInt(priceInput[0].value),\n            maxPrice = parseInt(priceInput[1].value);\n          if (maxPrice - minPrice >= priceGap && maxPrice <= rangeInput[1].max) {\n            if (e.target.className === \"input-min\") {\n              rangeInput[0].value = minPrice;\n              range.style.left = minPrice / rangeInput[0].max * 100 + \"%\";\n            } else {\n              rangeInput[1].value = maxPrice;\n              range.style.right = 100 - maxPrice / rangeInput[1].max * 100 + \"%\";\n            }\n          }\n        });\n      });\n      rangeInput.forEach(input => {\n        input.addEventListener(\"input\", e => {\n          let minVal = parseInt(rangeInput[0].value),\n            maxVal = parseInt(rangeInput[1].value);\n          if (maxVal - minVal < priceGap) {\n            if (e.target.className === \"range-min\") {\n              rangeInput[0].value = maxVal - priceGap;\n            } else {\n              rangeInput[1].value = minVal + priceGap;\n            }\n          } else {\n            priceInput[0].value = minVal;\n            priceInput[1].value = maxVal;\n            range.style.left = minVal / rangeInput[0].max * 100 + \"%\";\n            range.style.right = 100 - maxVal / rangeInput[1].max * 100 + \"%\";\n          }\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAsEA,OAAOA,UAAS,MAAO,6BAA4B;AACnD,SAASC,SAAQ,QAAS,eAAc;AAExC,eACA;EACIC,IAAI,EAAE,QAAQ;EAEdC,UAAU,EACV;IACEH;EACF,CAAC;EAEDI,OAAO,GAAE;IAEL,IAAI,CAACC,aAAa,EAAC;EACvB,CAAC;EAEDC,OAAO,EAAC;IAEJD,aAAa,GAAE;MAEX,MAAME,UAAS,GAAIC,QAAQ,CAACC,gBAAgB,CAAC,oBAAoB,CAAC;QAClEC,UAAS,GAAIF,QAAQ,CAACC,gBAAgB,CAAC,oBAAoB,CAAC;QAC5DE,KAAI,GAAIH,QAAQ,CAACI,aAAa,CAAC,mBAAmB,CAAC;MACnD,IAAIC,QAAO,GAAI,IAAI;MAEnBH,UAAU,CAACI,OAAO,CAACC,KAAI,IAAI;QACvBA,KAAK,CAACC,gBAAgB,CAAC,OAAO,EAAEC,KAAI;UAChC,IAAIC,QAAO,GAAIC,QAAQ,CAACT,UAAU,CAAC,CAAC,CAAC,CAACU,KAAK,CAAC;YAC5CC,QAAO,GAAIF,QAAQ,CAACT,UAAU,CAAC,CAAC,CAAC,CAACU,KAAK,CAAC;UAExC,IAAIC,QAAO,GAAIH,QAAO,IAAKL,QAAQ,IAAKQ,QAAO,IAAKd,UAAU,CAAC,CAAC,CAAC,CAACe,GAAG,EAAC;YAClE,IAAGL,CAAC,CAACM,MAAM,CAACC,SAAQ,KAAM,WAAW,EAAC;cAClCjB,UAAU,CAAC,CAAC,CAAC,CAACa,KAAI,GAAIF,QAAQ;cAC9BP,KAAK,CAACc,KAAK,CAACC,IAAG,GAAMR,QAAO,GAAIX,UAAU,CAAC,CAAC,CAAC,CAACe,GAAG,GAAI,GAAG,GAAI,GAAG;YACnE,CAAC,MAAI;cACDf,UAAU,CAAC,CAAC,CAAC,CAACa,KAAI,GAAIC,QAAQ;cAC9BV,KAAK,CAACc,KAAK,CAACE,KAAI,GAAI,GAAE,GAAKN,QAAO,GAAId,UAAU,CAAC,CAAC,CAAC,CAACe,GAAG,GAAI,GAAE,GAAI,GAAG;YACxE;UACJ;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;MAEFf,UAAU,CAACO,OAAO,CAACC,KAAI,IAAI;QACvBA,KAAK,CAACC,gBAAgB,CAAC,OAAO,EAAEC,KAAI;UAChC,IAAIW,MAAK,GAAIT,QAAQ,CAACZ,UAAU,CAAC,CAAC,CAAC,CAACa,KAAK,CAAC;YAC1CS,MAAK,GAAIV,QAAQ,CAACZ,UAAU,CAAC,CAAC,CAAC,CAACa,KAAK,CAAC;UAEtC,IAAIS,MAAK,GAAID,MAAM,GAAIf,QAAQ,EAAC;YAC5B,IAAGI,CAAC,CAACM,MAAM,CAACC,SAAQ,KAAM,WAAW,EAAC;cAClCjB,UAAU,CAAC,CAAC,CAAC,CAACa,KAAI,GAAIS,MAAK,GAAIhB,QAAO;YAC1C,CAAC,MAAI;cACDN,UAAU,CAAC,CAAC,CAAC,CAACa,KAAI,GAAIQ,MAAK,GAAIf,QAAQ;YAC3C;UACJ,CAAC,MAAI;YACDH,UAAU,CAAC,CAAC,CAAC,CAACU,KAAI,GAAIQ,MAAM;YAC5BlB,UAAU,CAAC,CAAC,CAAC,CAACU,KAAI,GAAIS,MAAM;YAC5BlB,KAAK,CAACc,KAAK,CAACC,IAAG,GAAME,MAAK,GAAIrB,UAAU,CAAC,CAAC,CAAC,CAACe,GAAG,GAAI,GAAG,GAAI,GAAG;YAC7DX,KAAK,CAACc,KAAK,CAACE,KAAI,GAAI,GAAE,GAAKE,MAAK,GAAItB,UAAU,CAAC,CAAC,CAAC,CAACe,GAAG,GAAI,GAAE,GAAI,GAAG;UACtE;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IAEN;EAEJ;AAGJ","names":["ProductBox","bookStore","name","components","created","setPriceRange","methods","rangeInput","document","querySelectorAll","priceInput","range","querySelector","priceGap","forEach","input","addEventListener","e","minPrice","parseInt","value","maxPrice","max","target","className","style","left","right","minVal","maxVal"],"sourceRoot":"","sources":["C:\\Users\\felip\\Desktop\\Tot Bookstore\\src\\views\\SearchView.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"search\">\r\n        \r\n        <div class=\"remove-book-form\">\r\n\r\n            <h2 class=\"center\">Aplicar Filtro</h2>\r\n\r\n            <form @submit=\"filterSearch\">\r\n\r\n                <ul>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"title\">Título do Livro:</label><br>\r\n                        <input type=\"text\" id=\"name\" name=\"title\"><br><br>\r\n                    </li>\r\n                                  \r\n                    \r\n                    <li class=\"form-field\">\r\n                        <label for=\"author\">Autor</label><br>\r\n                        <input type=\"text\" id=\"author\" name=\"author\"><br><br>\r\n                    </li>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"isbn\">ISBN</label><br>\r\n                        <input type=\"isbn\" id=\"isbn\" name=\"isbn\"><br><br>\r\n                    </li>\r\n\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"edition\">Edição:</label><br>\r\n                        <input type=\"text\" id=\"edition\" name=\"edition\"><br><br>\r\n                    </li>\r\n                                  \r\n                    \r\n                    <li class=\"form-field\">\r\n                        <label for=\"publisher\">Editora</label><br>\r\n                        <input type=\"text\" id=\"publisher\" name=\"publisher\"><br><br>\r\n                    </li>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"price\">Preço:</label><br>\r\n                        <input type=\"number\" id=\"minPrice\" name=\"minPrice\" placeholder=\"Valor Mínimo\"><br>\r\n                        <input type=\"number\" id=\"maxPrice\" name=\"maxPrice\" placeholder=\"Valor Máximo\"><br><br>\r\n                    </li>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"quantity\">Estoque:</label><br>\r\n                        <input type=\"number\" step=\"1\" min=\"0\" id=\"quantity\" name=\"quantity\"><br><br>\r\n                    </li>\r\n\r\n                    \r\n                </ul>\r\n\r\n                <br><br>\r\n\r\n                <input type=\"submit\" class=\"center\" value=\"Buscar Livro\">\r\n\r\n            </form>\r\n\r\n        </div>\r\n\r\n        <ProductBox />\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport ProductBox from '@/components/ProductBox.vue'\r\nimport { bookStore } from '@/store/books'\r\n\r\nexport default\r\n{\r\n    name: \"Search\",\r\n\r\n    components: \r\n    { \r\n      ProductBox\r\n    },\r\n    \r\n    created(){\r\n\r\n        this.setPriceRange()\r\n    },\r\n     \r\n    methods:{\r\n\r\n        setPriceRange(){\r\n\r\n            const rangeInput = document.querySelectorAll(\".range-input input\"),\r\n            priceInput = document.querySelectorAll(\".price-input input\"),\r\n            range = document.querySelector(\".slider .progress\");\r\n            let priceGap = 1000;\r\n\r\n            priceInput.forEach(input =>{\r\n                input.addEventListener(\"input\", e =>{\r\n                    let minPrice = parseInt(priceInput[0].value),\r\n                    maxPrice = parseInt(priceInput[1].value);\r\n                    \r\n                    if((maxPrice - minPrice >= priceGap) && maxPrice <= rangeInput[1].max){\r\n                        if(e.target.className === \"input-min\"){\r\n                            rangeInput[0].value = minPrice;\r\n                            range.style.left = ((minPrice / rangeInput[0].max) * 100) + \"%\";\r\n                        }else{\r\n                            rangeInput[1].value = maxPrice;\r\n                            range.style.right = 100 - (maxPrice / rangeInput[1].max) * 100 + \"%\";\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            rangeInput.forEach(input =>{\r\n                input.addEventListener(\"input\", e =>{\r\n                    let minVal = parseInt(rangeInput[0].value),\r\n                    maxVal = parseInt(rangeInput[1].value);\r\n\r\n                    if((maxVal - minVal) < priceGap){\r\n                        if(e.target.className === \"range-min\"){\r\n                            rangeInput[0].value = maxVal - priceGap\r\n                        }else{\r\n                            rangeInput[1].value = minVal + priceGap;\r\n                        }\r\n                    }else{\r\n                        priceInput[0].value = minVal;\r\n                        priceInput[1].value = maxVal;\r\n                        range.style.left = ((minVal / rangeInput[0].max) * 100) + \"%\";\r\n                        range.style.right = 100 - (maxVal / rangeInput[1].max) * 100 + \"%\";\r\n                    }\r\n                });\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n    \r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\ninput{\r\n\r\n    text-align: center;\r\n\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}