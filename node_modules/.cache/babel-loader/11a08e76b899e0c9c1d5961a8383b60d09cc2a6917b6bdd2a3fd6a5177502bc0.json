{"ast":null,"code":"import ProductBox from '@/components/ProductBox.vue';\nimport { bookStore } from '@/store/books';\nexport default {\n  name: \"Search\",\n  components: {\n    ProductBox\n  },\n  data() {\n    return {\n      title: null,\n      author: null,\n      isbn: null,\n      edition: null,\n      publisher: null,\n      minPrice: null,\n      maxPrice: null,\n      quantity: null\n    };\n  },\n  methods: {\n    filterSearch() {\n      const filter = {\n        title: this.title.toLowerCase(),\n        author: this.author.toLowerCase(),\n        isbn: this.isbn.toLowerCase(),\n        edition: this.edition.toLowerCase(),\n        publisher: this.publisher.toLowerCase(),\n        minPrice: this.minPrice,\n        maxPrice: this.maxPrice,\n        quantity: this.quantity\n      };\n      bookStore().searchResult = bookStore().searchResult.filter((book, filter) => {\n        let title = true;\n        let author = true;\n        let isbn = true;\n        let edition = true;\n        let publisher = true;\n        let minPrice = true;\n        let maxPrice = true;\n        let quantity = true;\n        if (filter.title) title = book.title.toLowerCase().includes(book.title);\n        if (filter.author) author = book.author.toLowerCase().includes(filter.author);\n        if (filter.isbn) isbn = book.isbn === filter.isbn;\n        if (filter.edition) edition = book.edition === filter.edition;\n        if (filter.publisher) publisher = book.publisher.toLowerCase().includes(filter.publisher);\n        if (filter.minPrice) minPrice = book.price >= filter.minPrice;\n        if (filter.maxPrice) maxPrice = book.price <= filter.maxPrice;\n        if (filter.quantity) quantity = book.quantity === filter.quantity;\n        return title && author && isbn && edition && publisher && minPrice && maxPrice && quantity;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAsEA,OAAOA,UAAS,MAAO,6BAA4B;AACnD,SAASC,SAAQ,QAAS,eAAc;AAExC,eACA;EACIC,IAAI,EAAE,QAAQ;EAEdC,UAAU,EACV;IACEH;EACF,CAAC;EAEDI,IAAI,GAAE;IAEF,OAAM;MAEFC,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAE,IAAI;MACfC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IAGd;EACJ,CAAC;EAEDC,OAAO,EAAC;IAEJC,YAAY,GAAE;MAEV,MAAMC,MAAK,GAAI;QAEXV,KAAK,EAAE,IAAI,CAACA,KAAK,CAACW,WAAW,EAAE;QAC/BV,MAAM,EAAE,IAAI,CAACA,MAAM,CAACU,WAAW,EAAE;QACjCT,IAAI,EAAE,IAAI,CAACA,IAAI,CAACS,WAAW,EAAE;QAC7BR,OAAO,EAAE,IAAI,CAACA,OAAO,CAACQ,WAAW,EAAE;QACnCP,SAAS,EAAE,IAAI,CAACA,SAAS,CAACO,WAAW,EAAE;QACvCN,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA;MAGnB;MAEAX,SAAS,EAAE,CAACgB,YAAW,GAAIhB,SAAS,EAAE,CAACgB,YAAY,CAACF,MAAM,CAAC,CAACG,IAAI,EAAEH,MAAM,KAAK;QAGzE,IAAIV,KAAI,GAAI,IAAG;QACf,IAAIC,MAAK,GAAI,IAAG;QAChB,IAAIC,IAAG,GAAI,IAAG;QACd,IAAIC,OAAM,GAAI,IAAG;QACjB,IAAIC,SAAQ,GAAI,IAAG;QACnB,IAAIC,QAAO,GAAI,IAAG;QAClB,IAAIC,QAAO,GAAI,IAAG;QAClB,IAAIC,QAAO,GAAI,IAAG;QAGlB,IAAGG,MAAM,CAACV,KAAK,EAAEA,KAAI,GAAKa,IAAI,CAACb,KAAK,CAACW,WAAW,EAAE,CAACG,QAAQ,CAACD,IAAI,CAACb,KAAK,CAAC;QACvE,IAAGU,MAAM,CAACT,MAAM,EAAEA,MAAK,GAAKY,IAAI,CAACZ,MAAM,CAACU,WAAW,EAAE,CAACG,QAAQ,CAACJ,MAAM,CAACT,MAAM,CAAC;QAC7E,IAAGS,MAAM,CAACR,IAAI,EAAEA,IAAG,GAAKW,IAAI,CAACX,IAAG,KAAMQ,MAAM,CAACR,IAAI;QACjD,IAAGQ,MAAM,CAACP,OAAO,EAAEA,OAAM,GAAKU,IAAI,CAACV,OAAM,KAAMO,MAAM,CAACP,OAAO;QAC7D,IAAGO,MAAM,CAACN,SAAS,EAAEA,SAAQ,GAAKS,IAAI,CAACT,SAAS,CAACO,WAAW,EAAE,CAACG,QAAQ,CAACJ,MAAM,CAACN,SAAS,CAAC;QACzF,IAAGM,MAAM,CAACL,QAAQ,EAAEA,QAAO,GAAKQ,IAAI,CAACE,KAAI,IAAKL,MAAM,CAACL,QAAQ;QAC7D,IAAGK,MAAM,CAACJ,QAAQ,EAAEA,QAAO,GAAKO,IAAI,CAACE,KAAI,IAAKL,MAAM,CAACJ,QAAQ;QAC7D,IAAGI,MAAM,CAACH,QAAQ,EAAEA,QAAO,GAAKM,IAAI,CAACN,QAAO,KAAMG,MAAM,CAACH,QAAQ;QAEjE,OACIP,KAAI,IACJC,MAAK,IACLC,IAAG,IACHC,OAAM,IACNC,SAAQ,IACRC,QAAO,IACPC,QAAO,IACPC,QAAO;MAKf,CAAC;IAEL;EAEJ;AAGJ","names":["ProductBox","bookStore","name","components","data","title","author","isbn","edition","publisher","minPrice","maxPrice","quantity","methods","filterSearch","filter","toLowerCase","searchResult","book","includes","price"],"sourceRoot":"","sources":["C:\\Users\\felip\\Desktop\\Tot Bookstore\\src\\views\\SearchView.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"search\">\r\n        \r\n        <div class=\"remove-book-form\">\r\n\r\n            <h2 class=\"center\">Aplicar Filtro</h2>\r\n\r\n            <form @submit=\"filterSearch\">\r\n\r\n                <ul>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"title\">Título do Livro:</label><br>\r\n                        <input type=\"text\" id=\"title\" name=\"title\" v-model=\"title\" ><br><br>\r\n                    </li>\r\n                                  \r\n                    \r\n                    <li class=\"form-field\">\r\n                        <label for=\"author\">Autor</label><br>\r\n                        <input type=\"text\" id=\"author\" name=\"author\" v-model=\"author\"><br><br>\r\n                    </li>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"isbn\">ISBN</label><br>\r\n                        <input type=\"isbn\" id=\"isbn\" name=\"isbn\" v-model=\"isbn\"><br><br>\r\n                    </li>\r\n\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"edition\">Edição:</label><br>\r\n                        <input type=\"text\" id=\"edition\" name=\"edition\" v-model=\"edition\"><br><br>\r\n                    </li>\r\n                                  \r\n                    \r\n                    <li class=\"form-field\">\r\n                        <label for=\"publisher\">Editora</label><br>\r\n                        <input type=\"text\" id=\"publisher\" name=\"publisher\" v-model=\"publisher\"><br><br>\r\n                    </li>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"price\">Preço:</label><br>\r\n                        <input type=\"number\" id=\"minPrice\" name=\"minPrice\" placeholder=\"Valor Mínimo\" v-model=\"minPrice\"><br>\r\n                        <input type=\"number\" id=\"maxPrice\" name=\"maxPrice\" placeholder=\"Valor Máximo\" v-model=\"maxPrice\"><br><br>\r\n                    </li>\r\n\r\n                    <li class=\"form-field\">\r\n                        <label for=\"quantity\">Estoque:</label><br>\r\n                        <input type=\"number\" step=\"1\" min=\"0\" id=\"quantity\" name=\"quantity\" v-model=\"quantity\"><br><br>\r\n                    </li>\r\n\r\n                    \r\n                </ul>\r\n\r\n                <br><br>\r\n\r\n                <input type=\"submit\" class=\"center\" value=\"Buscar Livro\">\r\n\r\n            </form>\r\n\r\n        </div>\r\n\r\n        <ProductBox />\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport ProductBox from '@/components/ProductBox.vue'\r\nimport { bookStore } from '@/store/books'\r\n\r\nexport default\r\n{\r\n    name: \"Search\",\r\n\r\n    components: \r\n    { \r\n      ProductBox\r\n    },\r\n    \r\n    data(){\r\n\r\n        return{\r\n\r\n            title: null, \r\n            author: null,\r\n            isbn: null, \r\n            edition: null,\r\n            publisher: null,\r\n            minPrice: null,\r\n            maxPrice: null,\r\n            quantity: null\r\n\r\n\r\n        }\r\n    },\r\n     \r\n    methods:{\r\n\r\n        filterSearch(){\r\n\r\n            const filter = {\r\n\r\n                title: this.title.toLowerCase(),\r\n                author: this.author.toLowerCase(),\r\n                isbn: this.isbn.toLowerCase(), \r\n                edition: this.edition.toLowerCase(),\r\n                publisher: this.publisher.toLowerCase(),\r\n                minPrice: this.minPrice,\r\n                maxPrice: this.maxPrice,\r\n                quantity: this.quantity,\r\n\r\n\r\n            }\r\n\r\n            bookStore().searchResult = bookStore().searchResult.filter((book, filter) => {\r\n\r\n\r\n                let title = true \r\n                let author = true\r\n                let isbn = true \r\n                let edition = true\r\n                let publisher = true\r\n                let minPrice = true\r\n                let maxPrice = true\r\n                let quantity = true\r\n\r\n\r\n                if(filter.title) title = (book.title.toLowerCase().includes(book.title))\r\n                if(filter.author) author = (book.author.toLowerCase().includes(filter.author))\r\n                if(filter.isbn) isbn = (book.isbn === filter.isbn)\r\n                if(filter.edition) edition = (book.edition === filter.edition)\r\n                if(filter.publisher) publisher = (book.publisher.toLowerCase().includes(filter.publisher))\r\n                if(filter.minPrice) minPrice = (book.price >= filter.minPrice)\r\n                if(filter.maxPrice) maxPrice = (book.price <= filter.maxPrice)\r\n                if(filter.quantity) quantity = (book.quantity === filter.quantity)\r\n\r\n                return (\r\n                    title && \r\n                    author &&\r\n                    isbn && \r\n                    edition &&\r\n                    publisher &&\r\n                    minPrice &&\r\n                    maxPrice &&\r\n                    quantity\r\n                )\r\n\r\n\r\n\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n    \r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\ninput{\r\n\r\n    text-align: center;\r\n\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}