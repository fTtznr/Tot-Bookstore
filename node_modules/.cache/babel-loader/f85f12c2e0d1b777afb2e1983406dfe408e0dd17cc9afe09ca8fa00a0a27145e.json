{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"ProductBox\",\n  props: {\n    books: Array\n  },\n  methods: {\n    shareData(book) {\n      //this.$router.push({name: \"book\", params: book})\n      //console.log(book)\n    },\n    addCart(book) {\n      let cart = localStorage.getItem(\"cart\");\n      if (cart) {\n        cart = JSON.parse(cart);\n        cart.items.push(book);\n        for (item of cart.items) {\n          if (book.bookId === item.bookId) item.bookId += 1;\n        }\n      } else {\n        cart = {\n          items: [book]\n        };\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    },\n    bookDetail(book) {\n      localStorage.setItem(\"book\", JSON.stringify(book));\n      this.$router.push(\"/book\");\n    }\n  }\n};","map":{"version":3,"mappings":";AA6BC,eACA;EAEGA,IAAI,EAAE,YAAY;EAElBC,KAAK,EACL;IACIC,KAAK,EAAEC;EACX,CAAC;EAEDC,OAAO,EACP;IACIC,SAAS,CAACC,IAAI,EACd;MACI;MACA;IAAA,CACH;IAEDC,OAAO,CAACD,IAAI,EACZ;MAEI,IAAIE,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,MAAM;MAEtC,IAAGF,IAAI,EAAC;QAEJA,IAAG,GAAIG,IAAI,CAACC,KAAK,CAACJ,IAAI;QACtBA,IAAI,CAACK,KAAK,CAACC,IAAI,CAACR,IAAI;QAEpB,KAAIS,IAAG,IAAKP,IAAI,CAACK,KAAK,EACtB;UACI,IAAGP,IAAI,CAACU,MAAK,KAAMD,IAAI,CAACC,MAAM,EAAED,IAAI,CAACC,MAAK,IAAK;QAEnD;MAEJ,CAAC,MAAI;QACDR,IAAG,GAAI;UAAEK,KAAK,EAAE,CAACP,IAAI;QAAE;MAC3B;MAEAG,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACO,SAAS,CAACV,IAAI,CAAC;IAErD,CAAC;IAEDW,UAAU,CAACb,IAAI,EAAC;MAEZG,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACO,SAAS,CAACZ,IAAI,CAAC;MACjD,IAAI,CAACc,OAAO,CAACN,IAAI,CAAC,OAAO,CAAC;IAE9B;EACJ;AAEH","names":["name","props","books","Array","methods","shareData","book","addCart","cart","localStorage","getItem","JSON","parse","items","push","item","bookId","setItem","stringify","bookDetail","$router"],"sourceRoot":"","sources":["C:\\Users\\felip\\Desktop\\Tot Bookstore\\src\\components\\ProductBox.vue"],"sourcesContent":["<template>\r\n   \r\n    <div class=\"product-box\">\r\n         \r\n         <div class=\"product\" v-for=\"book in books\" :key=\"book.bookId\">\r\n \r\n             <div class=\"product-img\">\r\n                <img :src=\"book.coverImg\" @click=\"bookDetail(book)\">\r\n            </div>\r\n   \r\n             <div class=\"product-info\">\r\n \r\n                <h3>{{book.title}}</h3> \r\n                <h4>R$ {{book.price}}</h4> <button class=\"addCart\" @click=\"addCart(book)\">+</button>\r\n                <p>{{book.description}}</p>\r\n             \r\n            </div>\r\n\r\n            \r\n \r\n         </div>\r\n     \r\n     </div>\r\n \r\n </template>\r\n \r\n \r\n <script>\r\n \r\n export default\r\n {\r\n \r\n    name: \"ProductBox\",\r\n    \r\n    props:\r\n    {\r\n        books: Array\r\n    },\r\n\r\n    methods:\r\n    {\r\n        shareData(book)\r\n        {\r\n            //this.$router.push({name: \"book\", params: book})\r\n            //console.log(book)\r\n        },\r\n\r\n        addCart(book)\r\n        {\r\n\r\n            let cart = localStorage.getItem(\"cart\")\r\n\r\n            if(cart){\r\n\r\n                cart = JSON.parse(cart)\r\n                cart.items.push(book)\r\n\r\n                for(item of cart.items)\r\n                {\r\n                    if(book.bookId === item.bookId) item.bookId += 1\r\n\r\n                }\r\n\r\n            }else{\r\n                cart = { items: [book] }\r\n            }\r\n\r\n            localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n        },\r\n\r\n        bookDetail(book){\r\n\r\n            localStorage.setItem(\"book\", JSON.stringify(book))\r\n            this.$router.push(\"/book\");\r\n\r\n        }\r\n    }\r\n \r\n }\r\n \r\n \r\n </script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}