{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/img/cart.png';\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"img\", {\n    class: \"icon, addCart\",\n    src: _imports_0,\n    onClick: _cache[0] || (_cache[0] = $event => $options.addCart($props.book))\n  }), _createTextVNode(\" \" + _toDisplayString($data.msg), 1 /* TEXT */)]);\n}","map":{"version":3,"mappings":";OAGmCA,UAAoB;;uBADnDC,oBAEM,cADFC,oBAAwE;IAAnEC,KAAK,EAAC,eAAe;IAACC,GAAoB,EAApBJ,UAAoB;IAAEK,OAAK,sCAAEC,gBAAO,CAACC,WAAI;uBAAI,GAAC,oBAAEC,SAAG","names":["_imports_0","_createElementBlock","_createElementVNode","class","src","onClick","$options","$props","$data"],"sourceRoot":"","sources":["C:\\Users\\felip\\Desktop\\Tot Bookstore\\src\\components\\AddtoCart.vue"],"sourcesContent":["<template>\r\n\r\n    <div>\r\n        <img class=\"icon, addCart\" src=\"@/img/cart.png\" @click=\"addCart(book)\"/> {{msg}}\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\r\n    name: \"AddtoCart\",\r\n\r\n    props: {book: Object},\r\n    \r\n    data(){\r\n\r\n        return{\r\n            msg: null\r\n        }\r\n    },\r\n\r\n    methods:{\r\n\r\n        addCart(book)\r\n        {\r\n\r\n            let cart = localStorage.getItem(\"cart\")\r\n\r\n            if(cart){\r\n\r\n                cart = JSON.parse(cart)\r\n\r\n                let inCart = false\r\n\r\n                for(let item of cart.items)\r\n                {\r\n                    if(book.bookId === item.bookId) \r\n                    {\r\n\r\n                        item.qtde += 1\r\n                        inCart = true\r\n                        break\r\n                    \r\n                    }\r\n\r\n                }\r\n\r\n                if(!inCart) \r\n                {\r\n                    book.qtde = 1\r\n                    cart.items.push(book)\r\n                }\r\n\r\n            }else{\r\n\r\n                book.qtde = 1\r\n                cart = { items: [book] }\r\n            }\r\n\r\n            localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n            \r\n            this.msg = \"Item adicionado ao carrinho\"\r\n\r\n            setTimeout(() => this.msg = \"\", 2000)\r\n\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}